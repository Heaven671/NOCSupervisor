"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/snmp";
exports.ids = ["pages/api/snmp"];
exports.modules = {

/***/ "net-snmp":
/*!***************************!*\
  !*** external "net-snmp" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("net-snmp");

/***/ }),

/***/ "(api)/./pages/api/snmp.tsx":
/*!****************************!*\
  !*** ./pages/api/snmp.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nvar snmp = __webpack_require__(/*! net-snmp */ \"net-snmp\");\nfunction handler(req, res) {\n    console.log(req.query);\n    var session = snmp.createSession(`${req.query.network}`, \"public\");\n    var oids = [\n        \"1.3.6.1.2.1.1.5.0\",\n        \"1.3.6.1.2.1.1.6.0\"\n    ];\n    //var sysUptime = [\"1.3.6.1.4.1.2021.10.1.3.1\"];\n    var oid = [\n        `${req.query.oid}`\n    ];\n    var ret = [\n        \"\"\n    ];\n    if (req.query.req == \"get\") {\n        session.get(oid, function(error, varbinds) {\n            if (error) {\n                console.error(error);\n            } else {\n                for(var i = 0; i < varbinds.length; i++){\n                    if (snmp.isVarbindError(varbinds[i])) {\n                        console.error(snmp.varbindError(varbinds[i]));\n                    } else {\n                        console.log(varbinds[i].oid + \" = \" + varbinds[i].value);\n                        ret[i] += varbinds[i].value;\n                    }\n                }\n                res.send(JSON.stringify(ret));\n            }\n        });\n    } else if (req.query.req == \"walk\") {\n        console.log(\"waaaaaaalk\");\n        ret = [\n            \"\"\n        ];\n        function doneCb(error) {\n            if (error) console.error(error.toString());\n        }\n        function feedCb(varbinds) {\n            for(var i = 0; i < varbinds.length; i++){\n                if (snmp.isVarbindError(varbinds[i])) console.error(snmp.varbindError(varbinds[i]));\n                else ret[i] += varbinds[i].value;\n                console.log(varbinds[i].oid + \"|\" + varbinds[i].value);\n            }\n        }\n        var maxRepetitions = 20;\n        session.walk(oid, maxRepetitions, feedCb, doneCb);\n        res.send(JSON.stringify(ret));\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNDLENBQUMsQ0FBQyxDQUFDSSxLQUFLO2dCQUMzQmhCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFVSxRQUFRLENBQUNDLENBQUMsQ0FBQyxDQUFDTCxHQUFHLEdBQUcsR0FBRyxHQUFHSSxRQUFRLENBQUNDLENBQUMsQ0FBQyxDQUFDSSxLQUFLLENBQUMsQ0FBQzthQUMvRDtTQUNKO1FBQ0QsSUFBSU8sY0FBYyxHQUFHLEVBQUU7UUFDdkJwQixPQUFPLENBQUNxQixJQUFJLENBQUVqQixHQUFHLEVBQUVnQixjQUFjLEVBQUVELE1BQU0sRUFBRUYsTUFBTSxDQUFDLENBQUM7UUFDbkRyQixHQUFHLENBQUNrQixJQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxDQUFDWCxHQUFHLENBQUMsQ0FBQztLQUNoQztDQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnQvLi9wYWdlcy9hcGkvc25tcC50c3g/MDUyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc25tcCA9IHJlcXVpcmUoJ25ldC1zbm1wJyk7XHJcbmltcG9ydCB7dXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIocmVxLHJlcyl7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEucXVlcnkpXHJcbiAgICB2YXIgc2Vzc2lvbiA9IHNubXAuY3JlYXRlU2Vzc2lvbihgJHtyZXEucXVlcnkubmV0d29ya31gLCBcInB1YmxpY1wiKTtcclxuICAgIHZhciBvaWRzID0gW1wiMS4zLjYuMS4yLjEuMS41LjBcIiwgXCIxLjMuNi4xLjIuMS4xLjYuMFwiXTtcclxuICAgIC8vdmFyIHN5c1VwdGltZSA9IFtcIjEuMy42LjEuNC4xLjIwMjEuMTAuMS4zLjFcIl07XHJcbiAgICB2YXIgb2lkID0gW2Ake3JlcS5xdWVyeS5vaWR9YF07XHJcbiAgICB2YXIgcmV0ID0gWycnXTtcclxuICAgIGlmKHJlcS5xdWVyeS5yZXEgPT0gJ2dldCcpe1xyXG4gICAgICAgIHNlc3Npb24uZ2V0IChvaWQsIGZ1bmN0aW9uIChlcnJvciwgdmFyYmluZHMpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yIChlcnJvcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcmJpbmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNubXAuaXNWYXJiaW5kRXJyb3IgKHZhcmJpbmRzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yIChzbm1wLnZhcmJpbmRFcnJvciAodmFyYmluZHNbaV0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyAodmFyYmluZHNbaV0ub2lkICsgXCIgPSBcIiArIHZhcmJpbmRzW2ldLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0W2ldICs9IHZhcmJpbmRzW2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlcy5zZW5kKEpTT04uc3RyaW5naWZ5KHJldCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChyZXEucXVlcnkucmVxID09ICd3YWxrJyl7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3dhYWFhYWFhbGsnKTtcclxuICAgICAgICByZXQgPSBbJyddXHJcbiAgICAgICAgZnVuY3Rpb24gZG9uZUNiIChlcnJvcikge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yIChlcnJvci50b1N0cmluZyAoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIGZlZWRDYiAodmFyYmluZHMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJiaW5kcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNubXAuaXNWYXJiaW5kRXJyb3IgKHZhcmJpbmRzW2ldKSlcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yIChzbm1wLnZhcmJpbmRFcnJvciAodmFyYmluZHNbaV0pKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICByZXRbaV0gKz0gdmFyYmluZHNbaV0udmFsdWVcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyAodmFyYmluZHNbaV0ub2lkICsgXCJ8XCIgKyB2YXJiaW5kc1tpXS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1heFJlcGV0aXRpb25zID0gMjA7XHJcbiAgICAgICAgc2Vzc2lvbi53YWxrIChvaWQsIG1heFJlcGV0aXRpb25zLCBmZWVkQ2IsIGRvbmVDYik7XHJcbiAgICAgICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkocmV0KSlcclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJzbm1wIiwicmVxdWlyZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwicXVlcnkiLCJzZXNzaW9uIiwiY3JlYXRlU2Vzc2lvbiIsIm5ldHdvcmsiLCJvaWRzIiwib2lkIiwicmV0IiwiZ2V0IiwiZXJyb3IiLCJ2YXJiaW5kcyIsImkiLCJsZW5ndGgiLCJpc1ZhcmJpbmRFcnJvciIsInZhcmJpbmRFcnJvciIsInZhbHVlIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkb25lQ2IiLCJ0b1N0cmluZyIsImZlZWRDYiIsIm1heFJlcGV0aXRpb25zIiwid2FsayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/snmp.tsx\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/snmp.tsx"));
module.exports = __webpack_exports__;

})();